<!-- joinPage.html -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Page</title>
    <link rel="stylesheet" href="mainStyle.css">
    <style>
        div.contents>div.joinBox {
            margin: auto;
            width: 600px;
            height: auto;
        }

        div.contents>div>form {
            border: 2px solid black;
            background-color: white;
            padding: 10px;
        }

        div.contents>div>form>table {
            margin-left: auto;
            margin-right: auto;
        }

        th,
        td {
            padding: 15px;
        }

        input {
            border: 0px;
            border-bottom: 2px solid teal;
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>joinPage</h1>
    </div>

    <div class="menu">
        <ul>
            <li>
                <a href="mainPage.html">메인페이지</a>
            </li>
            <li>
                <a href="loginPage.html">로그인</a>
            </li>
            <li>
                <a href="joinPage.html">회원가입</a>
            </li>
        </ul>
    </div>

    <div class="contents">
        <h2>컨텐츠영역</h2>
        <h3>joinPage.html</h3>

        <div class="joinBox">
            <form action="memberJoin" method="get">
                <table>
                    <tr>
                        <th colspan="2">회원가입</th>
                    </tr>
                    <tr>
                        <th>아이디</th>
                        <td>
                            <!-- <input type="text" onkeyup="idCheck(this.value)"> -->
                            <input type="text" id="userId" placeholder="아이디는 4 ~ 10 자리">
                            <button type="button" onclick="idCheckBtn()">중복확인</button>
                            <br>
                            <span id="idCheckMsg"></span>
                        </td>

                    </tr>
                    <tr>
                        <th>비밀번호</th>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <th>이름</th>
                        <td><input type="text"></td>
                    </tr>
                    <tr>
                        <th>생년월일</th>
                        <td><input type="date"></td>
                    </tr>
                    <tr>
                        <th>이메일</th>
                        <td>
                            <input type="text" name="emailId">@
                            <input type="text" name="domain" id="domain">
                            <select onchange="domainSelect(this)">
                                <option value="">직접입력</option>
                                <option value="daum.com">다음</option>
                                <option value="naver.com">네이버</option>
                                <option value="gmail.com">구글</option>
                                <option value="kakao.com">카카오</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th colspan="2">
                            <button type="submit">회원가입</button>
                        </th>
                    </tr>
                </table>
            </form>
        </div>

    </div>

    <div class="footer">
        <h2>하단영역</h2>
    </div>

    <script>
        // onkeyup을 이용한 방법
        function idCheck(idValue) {
            console.log("입력한 아이디: " + idValue);
            //ajax
            var testId = 'yyyy';
            var checkResult = idValue == testId;
            var msgObj = document.getElementById('idCheckMsg');
            if (checkResult) {
                // 아이디 중복
                msgObj.innerText = '이미 사용중인 아이디입니다.'
                msgObj.style.color = 'red';
            } else {
                // 아이디 사용가능
                msgObj.innerText = '사용가능한 아이디입니다.'
                msgObj.style.color = 'green';
            }
        }

        // button을 이용한 방법
        function idCheckBtn() {
            var idValue = document.getElementById('userId').value;
            var testId = 'yyyy';
            var checkResult = idValue == testId;
            var msgObj = document.getElementById('idCheckMsg');

            if (idValue.length == 0) {
                msgObj.innerText = '아이디를 입력해주세요.';
                msgObj.style.color = 'red';
            } else if (idValue.length < 4 || idValue.length > 10) {
                msgObj.innerText = '아이디는 4 ~ 10 자리입니다.';
                msgObj.style.color = 'red';
            } else if (checkResult) {
                // 아이디 중복
                msgObj.innerText = '이미 사용중인 아이디입니다.'
                msgObj.style.color = 'red';
            } else {
                // 아이디 사용가능
                msgObj.innerText = '사용가능한 아이디입니다.'
                msgObj.style.color = 'green';
            }


        }

        // domain변경
        function domainSelect(obj) {
           document.getElementById('domain').value = obj.value;
        }
    </script>
</body>

</html>